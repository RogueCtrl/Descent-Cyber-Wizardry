/**
 * Weapons Entity Migration - Version 1.1.0
 * Adds cyber terminology and digital flavor to existing weapons
 * Maintains backward compatibility with classic names
 */

// Global assignment for browser compatibility
window.weaponsMigrationV110 = {
    version: '1.1.0',
    entity: 'weapons',
    store: 'weapons',
    description: 'Weapons cyber terminology enhancement',
    
    data: {
        "weapon_dagger_001": {
            "name": "Dagger",
            "cyberName": "Blade Subroutine",
            "displayName": "Dagger", // Keep original for backwards reference
            "digitalFlavor": "A compact cutting algorithm optimized for close-range data severing",
            "type": "weapon",
            "subtype": "cutting_algorithm",
            "cyberSubtype": "blade_subroutine",
            "damage": { "dice": 1, "sides": 4 },
            "attackBonus": 0,
            "weight": 1,
            "value": 20,
            "allowedClasses": ["all"],
            "special": ["throwable"],
            "programClass": "melee_cutter",
            "executionSpeed": "fast"
        },
        "weapon_short_sword_001": {
            "name": "Short Sword",
            "cyberName": "Combat Protocol",
            "displayName": "Short Sword",
            "digitalFlavor": "Standard combat algorithm with balanced attack parameters",
            "type": "weapon",
            "subtype": "combat_protocol",
            "cyberSubtype": "standard_blade",
            "damage": { "dice": 1, "sides": 6 },
            "attackBonus": 0,
            "weight": 3,
            "value": 100,
            "allowedClasses": ["fighter", "thief", "samurai", "lord"],
            "special": [],
            "programClass": "melee_standard",
            "executionSpeed": "medium"
        },
        "weapon_long_sword_001": {
            "name": "Long Sword",
            "cyberName": "Extended Combat Suite",
            "displayName": "Long Sword",
            "digitalFlavor": "Advanced combat protocol with extended reach capabilities",
            "type": "weapon",
            "subtype": "extended_protocol",
            "cyberSubtype": "long_blade",
            "damage": { "dice": 1, "sides": 8 },
            "attackBonus": 0,
            "weight": 4,
            "value": 150,
            "allowedClasses": ["fighter", "samurai", "lord"],
            "special": ["two_handed_optional"],
            "programClass": "melee_enhanced",
            "executionSpeed": "medium"
        },
        "weapon_staff_001": {
            "name": "Staff",
            "cyberName": "Data Conduit",
            "displayName": "Staff",
            "digitalFlavor": "Mage-class data transmission device with spell amplification",
            "type": "weapon",
            "subtype": "data_conduit",
            "cyberSubtype": "spell_amplifier",
            "damage": { "dice": 1, "sides": 6 },
            "attackBonus": 0,
            "weight": 4,
            "value": 50,
            "allowedClasses": ["mage", "priest", "bishop"],
            "special": ["spell_focus", "two_handed"],
            "programClass": "magic_focus",
            "executionSpeed": "slow"
        },
        "weapon_mace_001": {
            "name": "Mace",
            "cyberName": "Impact Driver",
            "displayName": "Mace",
            "digitalFlavor": "Blunt force algorithm designed for armor penetration",
            "type": "weapon",
            "subtype": "impact_driver",
            "cyberSubtype": "blunt_force",
            "damage": { "dice": 1, "sides": 6 },
            "attackBonus": 1,
            "weight": 5,
            "value": 120,
            "allowedClasses": ["priest", "fighter", "lord"],
            "special": ["armor_penetrating"],
            "programClass": "melee_blunt",
            "executionSpeed": "slow"
        },
        "weapon_bow_001": {
            "name": "Short Bow",
            "cyberName": "Projectile Launcher",
            "displayName": "Short Bow",
            "digitalFlavor": "Ranged targeting system with ballistic calculation matrix",
            "type": "weapon",
            "subtype": "projectile_launcher",
            "cyberSubtype": "ballistic_system",
            "damage": { "dice": 1, "sides": 6 },
            "attackBonus": 0,
            "weight": 2,
            "value": 75,
            "range": 80,
            "allowedClasses": ["thief", "fighter", "samurai", "lord"],
            "special": ["ranged", "requires_ammo"],
            "programClass": "ranged_basic",
            "executionSpeed": "fast"
        },
        "weapon_crossbow_001": {
            "name": "Light Crossbow",
            "cyberName": "Auto-Targeting System",
            "displayName": "Light Crossbow",
            "digitalFlavor": "Automated projectile system with enhanced accuracy protocols",
            "type": "weapon",
            "subtype": "auto_targeting",
            "cyberSubtype": "precision_launcher",
            "damage": { "dice": 1, "sides": 8 },
            "attackBonus": 1,
            "weight": 6,
            "value": 200,
            "range": 120,
            "allowedClasses": ["thief", "fighter", "samurai"],
            "special": ["ranged", "requires_ammo", "precise"],
            "programClass": "ranged_precision",
            "executionSpeed": "medium"
        },
        "weapon_war_hammer_001": {
            "name": "War Hammer",
            "cyberName": "Demolition Protocol",
            "displayName": "War Hammer",
            "digitalFlavor": "Heavy impact algorithm for structural damage operations",
            "type": "weapon",
            "subtype": "demolition_protocol",
            "cyberSubtype": "heavy_impact",
            "damage": { "dice": 1, "sides": 8 },
            "attackBonus": 1,
            "weight": 8,
            "value": 180,
            "allowedClasses": ["fighter", "samurai"],
            "special": ["two_handed", "armor_crushing"],
            "programClass": "melee_heavy",
            "executionSpeed": "very_slow"
        },
        "weapon_katana_001": {
            "name": "Katana",
            "cyberName": "Precision Strike Suite",
            "displayName": "Katana",
            "digitalFlavor": "Elite combat algorithm with maximum efficiency parameters",
            "type": "weapon",
            "subtype": "precision_strike",
            "cyberSubtype": "elite_blade",
            "damage": { "dice": 1, "sides": 10 },
            "attackBonus": 2,
            "weight": 3,
            "value": 500,
            "allowedClasses": ["samurai"],
            "special": ["masterwork", "keen"],
            "programClass": "melee_elite",
            "executionSpeed": "fast"
        },
        "weapon_ninja_blade_001": {
            "name": "Ninja Blade",
            "cyberName": "Stealth Cutter",
            "displayName": "Ninja Blade",
            "digitalFlavor": "Covert operation blade with noise suppression algorithms",
            "type": "weapon",
            "subtype": "stealth_cutter",
            "cyberSubtype": "covert_blade",
            "damage": { "dice": 1, "sides": 6 },
            "attackBonus": 3,
            "weight": 2,
            "value": 300,
            "allowedClasses": ["ninja"],
            "special": ["stealth", "precise", "throwable"],
            "programClass": "stealth_melee",
            "executionSpeed": "very_fast"
        }
    }
};